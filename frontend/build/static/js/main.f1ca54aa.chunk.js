(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,t,a){e.exports=a(95)},79:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),i=a.n(s),o=a(3),l=a(100),c=a(50),u=a(97),p=a(99),d=a(102),f=function(e){return{loggedIn:e.session.isAuthenticated}},m=Object(d.a)(Object(o.b)(f)(function(e){var t=e.component,a=e.path,n=e.loggedIn,s=e.exact;return r.a.createElement(u.a,{path:a,exact:s,render:function(e){return n?r.a.createElement(p.a,{to:"/"}):r.a.createElement(t,e)}})})),y=Object(d.a)(Object(o.b)(f)(function(e){var t=e.component,a=e.loggedIn,n=Object(c.a)(e,["component","loggedIn"]);return r.a.createElement(u.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),b=a(101),E=a(13),v=a.n(E),h=function(){return function(e){return v.a.get("api/events").then(function(t){return e(function(e){return{type:"RECEIVE_ALL_EVENTS",events:e}}(t))})}},g=a(5),O=a(6),j=a(10),w=a(9),T=a(11),S=a(20),k=a(18),_=["places"],C={width:"80vw",height:"80vh"},R={styles:[{elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#f5f5f2"},{visibility:"on"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{visibility:"simplified"},{color:"#ffffff"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{color:"#ffffff"},{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",stylers:[{color:"#ffffff"}]},{featureType:"road.local",stylers:[{color:"#ffffff"}]},{featureType:"poi.park",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#71c8d4"}]},{featureType:"landscape",stylers:[{color:"#e5e8e7"}]},{featureType:"poi.park",stylers:[{color:"#8ba129"}]},{featureType:"road",stylers:[{color:"#ffffff"}]},{featureType:"poi.sports_complex",elementType:"geometry",stylers:[{color:"#c7c7c7"},{visibility:"off"}]},{featureType:"water",stylers:[{color:"#a0d3d3"}]},{featureType:"poi.park",stylers:[{color:"#91b65d"}]},{featureType:"poi.park",stylers:[{gamma:1.51}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"poi.government",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.local",stylers:[{visibility:"simplified"}]},{featureType:"road"},{featureType:"road"},{},{featureType:"road.highway"}],disableDefaultUI:!0,zoomControl:!0};var D=function(e){var t=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:I}(),a=r.a.useState(null),n=Object(S.a)(a,2),s=n[0],i=n[1],o=Object(k.d)({googleMapsApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_API_KEY:"AIzaSyDprq1l0V4_yFP67ZU3s10s-LvGGul_Ovw"}).REACT_APP_GOOGLE_MAPS_API_KEY,libraries:_}),l=o.isLoaded;return o.loadError?"Error loading maps":l?r.a.createElement("div",null,r.a.createElement("h1",null,"Where are the games happening? ",r.a.createElement("span",{role:"img","aria-label":"ball"},"\ud83e\udd3e")),r.a.createElement(k.a,{mapContainerStyle:C,center:t,zoom:14,options:R,onClick:function(){s&&i(null)}},e.eventMarkers.map(function(e,t){return r.a.createElement(k.c,{key:t,position:{lat:e.lat,lng:e.lng},icon:{url:A(e.sport),scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)},onClick:function(){i(e)}})}),s?r.a.createElement(k.b,{position:{lat:s.lat,lng:s.lng},options:{pixelOffset:new window.google.maps.Size(0,-12)},onCloseClick:function(){i(null)}},r.a.createElement("div",null,r.a.createElement("h1",null,s.title),r.a.createElement("p",null,"Start: ",s.startDate.toLocaleTimeString()),r.a.createElement("p",null,"End: ",s.endDate.toLocaleTimeString()))):null)):"Loading the map"},I={lat:40.701,lng:-73.941011};function A(e){switch(e){case"soccer":return"/soccer.svg";case"basketball":return"/basketball.svg";case"volleyball":return"/volleyball.svg";default:return"/basketball.svg"}}var L=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.event;return r.a.createElement("div",{className:"event-card"},e.title)}}]),t}(r.a.Component),N=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchEvents()}},{key:"render",value:function(){var e=Object.values(this.props.events);return r.a.createElement("div",null,r.a.createElement("h1",null,"Find a Game Near You"),e.map(function(e,t){return r.a.createElement(L,{key:t,event:e})}))}}]),t}(r.a.Component),V=(a(79),function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-page"},r.a.createElement("section",{className:"main-page-events"},r.a.createElement(N,{events:this.props.events,fetchEvents:function(){return e.props.fetchEvents()}})),r.a.createElement("section",{className:"main-page-map"},r.a.createElement(D,{eventMarkers:P})))}}]),t}(r.a.Component)),P=[{sport:"basketball",lat:40.715128,lng:-73.9370077,title:"Pickup basketball",startDate:new Date("June 16, 2021 12:00:00"),endDate:new Date("June 16, 2021 14:00:00")},{sport:"soccer",lat:40.7130519,lng:-73.908111,title:"Pickup soccer game",startDate:new Date("June 16, 2021 14:00:00"),endDate:new Date("June 16, 2021 16:00:00")},{sport:"volleyball",lat:40.716847,lng:-73.932516,title:"Lets play volleyball",startDate:new Date("June 16, 2021 10:00:00"),endDate:new Date("June 16, 2021 12:00:00")},{sport:"basketball",lat:40.698152,lng:-73.9187878,title:"Pickup basketball",startDate:new Date("June 16, 2021 09:00:00"),endDate:new Date("June 16, 2021 11:00:00")},{sport:"soccer",lat:40.7199784,lng:-73.9535401,title:"Pickup soccer game",startDate:new Date("June 16, 2021 16:00:00"),endDate:new Date("June 16, 2021 18:00:00")},{sport:"volleyball",lat:40.7299653,lng:-73.9157633,title:"Lets play volleyball",startDate:new Date("June 16, 2021 17:30:00"),endDate:new Date("June 16, 2021 19:30:00")}],U=Object(o.b)(function(e){return{events:e.events}},function(e){return{fetchEvents:function(){return e(h())}}})(V),x=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},z=a(26),G=a.n(z),J=function(e){return{type:"RECEIVE_SESSION_ERRORS",errors:e}},M=function(e){return function(t){return(a=e,v.a.post("/api/users/register",a)).then(function(){return t({type:"RECEIVE_USER_SIGN_IN"})},function(e){return t(J(e.response.data))});var a}},W=function(e){return function(t){return(a=e,v.a.post("/api/users/login",a)).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),x(a);var n=G()(a);t({type:"RECEIVE_CURRENT_USER",currentUser:n})}).catch(function(e){t(J(e.response.data))});var a}},K=function(){return function(e){localStorage.removeItem("jwtToken"),x(!1),e({type:"RECEIVE_USER_LOGOUT"})}},q=a(19),F=a(12),Y=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(j.a)(this,Object(w.a)(t).call(this,e))).state={email:"",password:"",errors:{}},a.handleSubmit=a.handleSubmit.bind(Object(F.a)(Object(F.a)(a))),a.renderErrors=a.renderErrors.bind(Object(F.a)(Object(F.a)(a))),a}return Object(T.a)(t,e),Object(O.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.currentUser&&this.props.history.push("/"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(q.a)({},e,a.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.login(t)}},{key:"renderErrors",value:function(){var e=this;return r.a.createElement("ul",null,Object.keys(this.state.errors).map(function(t,a){return r.a.createElement("li",{key:"error-".concat(a)},e.state.errors[t])}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.email,onChange:this.update("email"),placeholder:"Email"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Submit"}),this.renderErrors())))}}]),t}(r.a.Component),B=Object(d.a)(Y),Z=Object(o.b)(function(e){return{errors:e.errors.session}},function(e){return{login:function(t){return e(W(t))}}})(B),H=a(29),Q=a.n(H),X=a(44),$=a(30),ee=a(22),te=(a(85),a(45)),ae=a.n(te),ne=["places"],re=function(e){var t=Object(n.useState)({}),a=Object(S.a)(t,2),s=(a[0],a[1]),i=Object(n.useState)({}),o=Object(S.a)(i,2),l=(o[0],o[1]),c=Object(n.useState)({lat:40.783058,lng:-73.971252}),u=Object(S.a)(c,2),p=u[0],d=u[1],f=Object($.a)({requestOptions:{location:{lat:function(){return p.lat},lng:function(){return p.lng}},radius:1e3}}),m=f.ready,y=f.value,b=f.suggestions,E=b.status,v=b.data,h=f.setValue,g=(f.clearSuggestions,function(t){e.updateAddress?e.updateAddress(t):s(t)}),O=function(){var e=Object(X.a)(Q.a.mark(function e(t){var a,n;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),e.next=3,Object($.b)({address:t}).then(function(e){return e[0]});case 3:a=e.sent,l(a),n={addressString:a.formatted_address,addressObj:ae.a.parseLocation(a.formatted_address),coordinates:{lat:a.geometry.location.lat(),long:a.geometry.location.lng()}},d(n.coordinates),g(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(ee.a,{onSelect:function(e){O(e)}},r.a.createElement(ee.b,{id:"address-input",value:y,onChange:function(e){h(e.target.value),g(e.target.value)},disabled:!m,placeholder:"Enter an address"}),r.a.createElement(ee.d,null,"OK"===E&&v.map(function(e){var t=e.id,a=e.description;return r.a.createElement(ee.c,{key:t,value:a})})))},se=function(e){var t=Object(k.d)({googleMapsApiKey:"AIzaSyDprq1l0V4_yFP67ZU3s10s-LvGGul_Ovw",libraries:ne}),a=t.isLoaded;return t.loadError?"Error loading maps":a?r.a.createElement("div",null,r.a.createElement(re,{updateAddress:e.updateAddress})):"Loading Maps"},ie=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(j.a)(this,Object(w.a)(t).call(this,e))).state={email:"",username:"",password:"",password2:"",address:{addressObj:{street_address:"",city:"",state:"",zip_code:"",googleMapLink:""},addressString:"",coordinates:""},errors:{}},a.handleSubmit=a.handleSubmit.bind(Object(F.a)(Object(F.a)(a))),a.clearedErrors=!1,a.updateAddress=a.updateAddress.bind(Object(F.a)(Object(F.a)(a))),a}return Object(T.a)(t,e),Object(O.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.signedIn&&this.props.history.push("/login"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(q.a)({},e,a.currentTarget.value))}}},{key:"updateAddress",value:function(e){var t=e.addressString,a=e.coordinates,n=e.addressObj;return this.setState(function(){return{address:{addressString:t,coordinates:a,addressObj:n}}})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,username:this.state.username,password:this.state.password,password2:this.state.password2};this.props.signup(t,this.props.history)}},{key:"renderErrors",value:function(){var e=this;return r.a.createElement("ul",null,Object.keys(this.state.errors).map(function(t,a){return r.a.createElement("li",{key:"error-".concat(a)},e.state.errors[t])}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:"login-form-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"login-form"},r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.email,onChange:this.update("email"),placeholder:"Email"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.username,onChange:this.update("username"),placeholder:"Username"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.state.password2,onChange:this.update("password2"),placeholder:"Confirm Password"}),r.a.createElement("br",null),r.a.createElement(se,{updateAddress:this.updateAddress}),r.a.createElement("input",{type:"submit",value:"Submit"}),this.renderErrors())))}}]),t}(r.a.Component),oe=Object(d.a)(ie),le=Object(o.b)(function(e){return{signedIn:e.session.isSignedIn,errors:e.errors.session}},function(e){return{signup:function(t){return e(M(t))}}})(oe),ce=function(e){function t(){return Object(g.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props.currentUser.id)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){return r.a.createElement("div",null,"user profile")}}]),t}(r.a.Component),ue=Object(o.b)(function(e){return{currentUser:e.session.user}},function(e){return{fetchPickups:null}})(ce),pe=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("footer",null,"Copyright \xa9 2021 matty & the boyz"))},de=(a(88),a(98)),fe=(a(90),function(){var e=Object(o.d)(function(e){return e.session.isAuthenticated}),t=Object(o.d)(function(e){return e.session.user}),a=Object(o.c)(),n=function(e){e.preventDefault(),a(K())};return r.a.createElement("div",{className:"nav-bar"},r.a.createElement("h1",{id:"header-home-court-text"},"Home Court"),e?r.a.createElement("div",{className:"Links1"},r.a.createElement(de.a,{id:"profile-link",to:"/profile"},t.username),r.a.createElement("button",{id:"logout-button",onClick:n},"Logout"),r.a.createElement("button",{id:"create game",onClick:null},"Create Game")):r.a.createElement("div",{className:"Links2"},r.a.createElement(de.a,{to:"/signup"},"Signup"),r.a.createElement(de.a,{to:"/login"},"Login")))}),me=function(){return r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"content"},r.a.createElement(fe,null),r.a.createElement(b.a,null,r.a.createElement(y,{exact:!0,path:"/",component:U}),r.a.createElement(m,{exact:!0,path:"/login",component:Z}),r.a.createElement(m,{exact:!0,path:"/signup",component:le}),r.a.createElement(y,{exact:!0,path:"/profile",component:ue}))),r.a.createElement(pe,null))},ye=(a(92),function(e){var t=e.store;return r.a.createElement(o.a,{store:t},r.a.createElement(l.a,null,r.a.createElement(me,null)))}),be=a(15),Ee=a(46),ve=a(47),he=a.n(ve),ge=a(48),Oe=a(32),je={isAuthenticated:!1,user:{}},we=[],Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SESSION_ERRORS":return t.errors;case"RECEIVE_CURRENT_USER":return we;default:return e}},Se=[],ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_EVENT_ERRORS":return t.errors;case"RECEIVE_EVENT":return Se;default:return e}},_e=Object(be.combineReducers)({session:Te,events:ke}),Ce="OPEN_MODAL",Re="CLOSE_MODAL";var De=Object(be.combineReducers)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return t.modal;case Re:return null;default:return e}}}),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var a=Object.assign({},e);switch(t.type){case"RECEIVE_ALL_EVENTS":return Object.assign({},t.events.data);case"RECEIVE_EVENT":return e;case"REMOVE_EVENT":return delete a[t.eventId],a;default:return e}},Ae=Object(be.combineReducers)({events:Ie,errors:_e,session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_CURRENT_USER":return Object(Oe.a)({},e,{isAuthenticated:!!t.currentUser,user:t.currentUser});case"RECEIVE_USER_LOGOUT":return{isAuthenticated:!1,user:void 0};case"RECEIVE_USER_SIGN_IN":return Object(Oe.a)({},e,{isSignedIn:!0});default:return e}},ui:De}),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(be.createStore)(Ae,e,Object(ge.composeWithDevTools)(Object(be.applyMiddleware)(Ee.a,he.a)))};document.addEventListener("DOMContentLoaded",function(){var e;if(localStorage.jwtToken){x(localStorage.jwtToken);var t=G()(localStorage.jwtToken);e=Le({session:{isAuthenticated:!0,user:t}});var a=Date.now()/1e3;t.exp<a&&(e.dispatch(K()),window.location.href="/login")}else e=Le({});var n=document.getElementById("root");i.a.render(r.a.createElement(ye,{store:e}),n)})}},[[52,2,1]]]);
//# sourceMappingURL=main.f1ca54aa.chunk.js.map